<div class="row-fluid">
  <div class="span6">
    <h3><%= @user.name %></h3>
    <legend></legend>
    <%= form_for(@user, html: {class: "nav-form"}) do |f| %>
      <% if @user.errors.any? %>
        <div class="alert alert-error">
          <button type="button" class="close" data-dismiss="alert">×</button>
          <h4>Atenção!</h4>
          Os seguintes erros foram encontrados:
          <ul>
          <% @user.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
          </ul>
        </div>
      <% end %>
      <div>
        <div>
          <label>Nome </label>
          <%= f.text_field :name, placeholder:"Nome", class: "span8" %>
        </div>
        <div>
          <label>Email </label>
          <%= f.text_field :email, placeholder:"Email", class: "span8" %>
        </div>
        <div>
          <label>Perfil </label>
          <%= f.select(:profile,  User::PROFILES, {:include_blank => 'Selecione'}) %>
        </div>
        <% if @current_user.admin? %>
          <div>
            <label>Papel </label>
            <%= select_tag("user[role]", options_for_select([ ['Selecione um nível', ''], ['Administrador', 'admin'], ['Usuário', 'user']], @user.role))%>
          </div>
        <% end %>
        <div>
          <%= f.submit "Salvar", class: "btn btn-primary btn-inverse" %>
        </div>
      </div>
    <% end %>
  </div>
</div>
